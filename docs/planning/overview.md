# Глобальный план реализации

## Структура папки planning

```
planning/
├── overview.md          ← этот файл
└── features/
    ├── F01-project-setup.md
    ├── F02-ui-kit.md
    ├── F03-types-and-stores.md
    ├── F04-api-and-services.md
    ├── F05-layout-and-routing.md
    ├── F06-chat-list.md
    ├── F07-chat-window.md
    ├── F08-message-input.md
    ├── F09-user-statuses.md
    ├── F10-persistence.md
    ├── F11-message-formatting.md
    ├── F12-unread-badges.md
    ├── F13-animations.md
    ├── F14-adaptive-layout.md
    ├── F15-testing.md
    └── F16-repository.md
```

---

## Этапы реализации

```
┌─────────────────────────────────────────────────────────┐
│  Фаза 1 — Основа (инфраструктура, домен, сервисы)       │
│  F01 → F02 → F03 → F04                                  │
│  Зависимостей нет. Параллельно: F03 + F04               │
└─────────────────────────────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│  Фаза 2 — Скелет UI (layout, роутинг)                   │
│  F05                                                    │
└─────────────────────────────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│  Фаза 3 — Основной UI (компоненты, взаимодействие)      │
│  F06 → F07 → F08 → F09                                  │
│  F06 и F07 можно параллельно                            │
└─────────────────────────────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│  Фаза 4 — Персистентность                               │
│  F10                                                    │
└─────────────────────────────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│  Фаза 5 — Расширенные фичи (все из «Дополнительно»)     │
│  F11 (форматирование) + F12 (бейджи) + F14 (адаптив)   │
│  F13 (анимации) — параллельно с любой из фазы 5         │
└─────────────────────────────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│  Фаза 6 — Тесты                                         │
│  F15 — покрытие services, stores, composables           │
└─────────────────────────────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│  Фаза 7 — Публикация                                    │
│  F16 — репозиторий GitHub, README, финальный пуш        │
└─────────────────────────────────────────────────────────┘
```

---

## Сводная таблица фич

| ID | Фича | Фаза | Приоритет | Зависит от |
|---|---|---|---|---|
| F01 | Инициализация проекта | 1 | Критический | — |
| F02 | UI-кит (базовые компоненты) | 1 | Критический | F01 |
| F03 | Типы и stores | 1 | Критический | F01 |
| F04 | API-сервисы (api, messageGenerator, messenger) | 1 | Критический | F01, F03 |
| F05 | Layout и роутинг | 2 | Критический | F01, F02 |
| F06 | Список чатов | 3 | Высокий | F03, F04, F05 |
| F07 | Окно чата и история | 3 | Высокий | F03, F04, F05 |
| F08 | Поле ввода и отправка | 3 | Высокий | F07 |
| F09 | Статусы пользователей | 3 | Высокий | F06 |
| F10 | Персистентность | 4 | Высокий | F03 |
| F11 | Форматирование сообщений | 5 | Средний | F07, F08 |
| F12 | Бейдж непрочитанных | 5 | Средний | F06, F07 |
| F13 | Анимации | 5 | Низкий | F07 |
| F14 | Адаптивный дизайн | 5 | Средний | F05, F06, F07 |
| F15 | Тесты (Vitest) | 6 | Средний | все |
| F16 | Репозиторий GitHub и публикация | 7 | Критический | F15 |

---

## Структура итогового проекта

```
src/
├── types/
│   └── index.ts                  # Все интерфейсы и типы
│
├── constants/
│   └── index.ts                  # CURRENT_USER_ID, CHAT_LIST_LIMIT, и др.
│
├── services/
│   ├── api.ts                    # GET /users
│   ├── messageGenerator.ts       # Генерация истории
│   └── messenger.ts              # Эмуляция автоответа
│
├── utils/
│   └── textFormatter.ts          # Форматирование **bold** *italic*
│
├── stores/
│   ├── usersStore.ts             # Options API
│   └── chatsStore.ts             # Options API
│
├── composables/
│   ├── useAutoScroll.ts
│   ├── useMessageInput.ts
│   └── useBreakpoint.ts
│
├── router/
│   └── index.ts
│
├── components/
│   ├── ui/                       # UI-кит
│   │   ├── BaseButton.vue
│   │   ├── BaseAvatar.vue
│   │   ├── StatusDot.vue
│   │   ├── BaseBadge.vue
│   │   ├── BaseTextarea.vue
│   │   └── BaseSpinner.vue
│   ├── layout/
│   │   └── AppLayout.vue
│   ├── chat-list/
│   │   ├── ChatList.vue
│   │   └── ChatListItem.vue
│   └── chat-window/
│       ├── ChatWindow.vue
│       ├── ChatHeader.vue
│       ├── MessageList.vue
│       ├── MessageItem.vue
│       └── MessageInput.vue
│
├── views/
│   ├── ChatListView.vue          # Mobile only
│   └── ChatView.vue              # Mobile only
│
├── styles/
│   ├── _variables.scss
│   ├── _mixins.scss
│   ├── _reset.scss
│   └── main.scss
│
└── __tests__/
    ├── services/
    ├── stores/
    ├── composables/
    └── utils/
```
